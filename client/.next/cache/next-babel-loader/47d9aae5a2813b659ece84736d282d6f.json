{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"C:\\\\Users\\\\Karim\\\\Documents\\\\GitHub\\\\PrimeTime\\\\client\\\\components\\\\Product.js\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : _Object$getOwnPropertyDescriptors ? _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport { Button, Card, CardActionArea, CardActions, CardContent, CardMedia, Typography } from '@material-ui/core';\nimport React, { useContext } from 'react';\nimport NextLink from 'next/link';\nimport Rating from '@material-ui/lab/Rating';\nimport { Store } from '../utils/Store';\nimport { useRouter } from 'next/router';\nimport axios from 'axios';\nimport { TabContent, TabPane, Nav, NavItem, NavLink } from 'reactstrap';\nimport Lightbox from 'react-image-lightbox-next';\nimport { Container, Row, Col } from 'reactstrap';\n\nfunction Product(props) {\n  var product = props.product;\n  var router = useRouter();\n\n  var _useContext = useContext(Store),\n      state = _useContext.state,\n      dispatch = _useContext.dispatch;\n\n  var addToCartHandler = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(product) {\n      var existItem, quantity, _yield$axios$get, data;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              existItem = state.cart.cartItems.find(function (x) {\n                return x._id === product._id;\n              });\n              quantity = existItem ? existItem.quantity + 1 : 1;\n              _context.next = 4;\n              return axios.get(\"http://localhost:5000/products/\".concat(product._id));\n\n            case 4:\n              _yield$axios$get = _context.sent;\n              data = _yield$axios$get.data;\n\n              if (!(data.stockQuantity < quantity)) {\n                _context.next = 9;\n                break;\n              }\n\n              window.alert('Sorry. Product is out of stock');\n              return _context.abrupt(\"return\");\n\n            case 9:\n              dispatch({\n                type: 'CART_ADD_ITEM',\n                payload: _objectSpread({}, product, {\n                  quantity: quantity\n                })\n              });\n              router.push('/cart');\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function addToCartHandler(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  /* return (\r\n      <Card>\r\n      <NextLink href={`/product/${product.slug}`} passHref>\r\n        <CardActionArea>\r\n          <CardMedia\r\n            component=\"img\"\r\n            image={product.image}\r\n            title={product.name}\r\n          ></CardMedia>\r\n          <CardContent>\r\n            <Typography>{product.name}</Typography>\r\n            <Rating value={product.rating} readOnly></Rating>\r\n          </CardContent>\r\n        </CardActionArea>\r\n      </NextLink>\r\n      <CardActions>\r\n        <Typography>${product.price}</Typography>\r\n        <Button\r\n          size=\"small\"\r\n          color=\"primary\"\r\n          onClick={() => addToCartHandler(product)}\r\n        >\r\n          Add to cart\r\n        </Button>\r\n      </CardActions>\r\n    </Card>\r\n    );*/\n\n\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: \"blog-agency\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"blog-contain\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, __jsx(\"center\", {\n    style: {\n      backgroundColor: \"#E6E6FA\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }, __jsx(NextLink, {\n    href: \"/product/\".concat(product.slug),\n    passHref: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  }, __jsx(\"img\", {\n    style: {\n      height: \"50%\",\n      width: \"50%\",\n      flex: 1,\n      flexDirection: \"row\",\n      borderRadius: \"50%\"\n    },\n    alt: \"\",\n    className: \"img-fluid \",\n    src: product.image,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }))), __jsx(\"div\", {\n    className: \"img-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"blog-info\",\n    style: {\n      minHeight: \"137px\",\n      maxHeight: \"137px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    className: \"m-b-20\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: \"center-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 19\n    }\n  }), \" \", __jsx(\"h5\", {\n    className: \"blog-head font-600\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 19\n    }\n  }, product.productName), __jsx(\"h6\", {\n    className: \"m-r-25 font-blog\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 19\n    }\n  }, \"$\", product.price)), __jsx(Button, {\n    size: \"small\",\n    color: \"primary\",\n    onClick: function onClick() {\n      return addToCartHandler(product);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 17\n    }\n  }, \"Add to cart\")))))));\n}\n\n;\nexport default Product;","map":{"version":3,"sources":["C:/Users/Karim/Documents/GitHub/PrimeTime/client/components/Product.js"],"names":["Button","Card","CardActionArea","CardActions","CardContent","CardMedia","Typography","React","useContext","NextLink","Rating","Store","useRouter","axios","TabContent","TabPane","Nav","NavItem","NavLink","Lightbox","Container","Row","Col","Product","props","product","router","state","dispatch","addToCartHandler","existItem","cart","cartItems","find","x","_id","quantity","get","data","stockQuantity","window","alert","type","payload","push","backgroundColor","slug","height","width","flex","flexDirection","borderRadius","image","minHeight","maxHeight","productName","price"],"mappings":";;;;;;;;;;;;;;;;AAAA,SACEA,MADF,EAEEC,IAFF,EAGEC,cAHF,EAIEC,WAJF,EAKEC,WALF,EAMEC,SANF,EAOEC,UAPF,QAQO,mBARP;AASA,OAAOC,KAAP,IAAgBC,UAAhB,QAAkC,OAAlC;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AAEA,SAAQC,KAAR,QAAoB,gBAApB;AACA,SAASC,SAAT,QAA0B,aAA1B;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,SAASC,UAAT,EAAqBC,OAArB,EAA8BC,GAA9B,EAAmCC,OAAnC,EAA4CC,OAA5C,QAA2D,YAA3D;AAEA,OAAOC,QAAP,MAAqB,2BAArB;AACA,SAAQC,SAAR,EAAkBC,GAAlB,EAAsBC,GAAtB,QAAgC,YAAhC;;AAQA,SAASC,OAAT,CAAiBC,KAAjB,EAAwB;AACtB,MAAQC,OAAR,GAAoBD,KAApB,CAAQC,OAAR;AACA,MAAMC,MAAM,GAAGd,SAAS,EAAxB;;AACA,oBAA4BJ,UAAU,CAACG,KAAD,CAAtC;AAAA,MAAQgB,KAAR,eAAQA,KAAR;AAAA,MAAeC,QAAf,eAAeA,QAAf;;AAEA,MAAMC,gBAAgB;AAAA,wEAAG,iBAAOJ,OAAP;AAAA;;AAAA;AAAA;AAAA;AAAA;AACjBK,cAAAA,SADiB,GACLH,KAAK,CAACI,IAAN,CAAWC,SAAX,CAAqBC,IAArB,CAA0B,UAACC,CAAD;AAAA,uBAAOA,CAAC,CAACC,GAAF,KAAUV,OAAO,CAACU,GAAzB;AAAA,eAA1B,CADK;AAEjBC,cAAAA,QAFiB,GAENN,SAAS,GAAGA,SAAS,CAACM,QAAV,GAAqB,CAAxB,GAA4B,CAF/B;AAAA;AAAA,qBAGAvB,KAAK,CAACwB,GAAN,0CAA4CZ,OAAO,CAACU,GAApD,EAHA;;AAAA;AAAA;AAGfG,cAAAA,IAHe,oBAGfA,IAHe;;AAAA,oBAInBA,IAAI,CAACC,aAAL,GAAqBH,QAJF;AAAA;AAAA;AAAA;;AAKrBI,cAAAA,MAAM,CAACC,KAAP,CAAa,gCAAb;AALqB;;AAAA;AAQvBb,cAAAA,QAAQ,CAAC;AAAEc,gBAAAA,IAAI,EAAE,eAAR;AAAyBC,gBAAAA,OAAO,oBAAOlB,OAAP;AAAgBW,kBAAAA,QAAQ,EAARA;AAAhB;AAAhC,eAAD,CAAR;AACAV,cAAAA,MAAM,CAACkB,IAAP,CAAY,OAAZ;;AATuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAhBf,gBAAgB;AAAA;AAAA;AAAA,KAAtB;AAYF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACE,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEE;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAQ,IAAA,KAAK,EAAE;AAAEgB,MAAAA,eAAe,EAAE;AAAnB,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA,MAAC,QAAD;AAAU,IAAA,IAAI,qBAAcpB,OAAO,CAACqB,IAAtB,CAAd;AAA4C,IAAA,QAAQ,MAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,KAAK,EAAE;AACLC,MAAAA,MAAM,EAAE,KADH;AAELC,MAAAA,KAAK,EAAE,KAFF;AAGLC,MAAAA,IAAI,EAAE,CAHD;AAILC,MAAAA,aAAa,EAAE,KAJV;AAKLC,MAAAA,YAAY,EAAE;AALT,KADT;AAQE,IAAA,GAAG,EAAC,EARN;AASE,IAAA,SAAS,EAAC,YATZ;AAUE,IAAA,GAAG,EACA1B,OAAO,CAAC2B,KAXb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADA,CADF,EAoBE;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,SAAS,EAAC,WADZ;AAEE,IAAA,KAAK,EAAE;AACLC,MAAAA,SAAS,EAAE,OADN;AAELC,MAAAA,SAAS,EAAE;AAFN,KAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAOE;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEE;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAEsC,GAFtC,EAGE;AAAI,IAAA,SAAS,EAAC,oBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAoC7B,OAAO,CAAC8B,WAA5C,CAHF,EAIE;AAAI,IAAA,SAAS,EAAC,kBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAmC9B,OAAO,CAAC+B,KAA3C,CAJF,CAPF,EAeE,MAAC,MAAD;AACR,IAAA,IAAI,EAAC,OADG;AAER,IAAA,KAAK,EAAC,SAFE;AAGR,IAAA,OAAO,EAAE;AAAA,aAAM3B,gBAAgB,CAACJ,OAAD,CAAtB;AAAA,KAHD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAfF,CADF,CADF,CApBF,CADF,CAFF,CADF;AAwDD;;AAAA;AAMD,eAAeF,OAAf","sourcesContent":["import {\r\n  Button,\r\n  Card,\r\n  CardActionArea,\r\n  CardActions,\r\n  CardContent,\r\n  CardMedia,\r\n  Typography,\r\n} from '@material-ui/core';\r\nimport React, { useContext } from 'react';\r\nimport NextLink from 'next/link';\r\nimport Rating from '@material-ui/lab/Rating';\r\n\r\nimport {Store} from '../utils/Store'\r\nimport { useRouter } from 'next/router';\r\n\r\nimport axios from 'axios';\r\n\r\nimport { TabContent, TabPane, Nav, NavItem, NavLink } from 'reactstrap';\r\n \r\nimport Lightbox from 'react-image-lightbox-next';\r\nimport {Container,Row,Col} from 'reactstrap'\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction Product(props) {\r\n  const { product } = props;\r\n  const router = useRouter();\r\n  const { state, dispatch } = useContext(Store);\r\n\r\n  const addToCartHandler = async (product) => {\r\n    const existItem = state.cart.cartItems.find((x) => x._id === product._id);\r\n    const quantity = existItem ? existItem.quantity + 1 : 1;\r\n    const { data } = await axios.get(`http://localhost:5000/products/${product._id}`);\r\n    if (data.stockQuantity < quantity) {\r\n      window.alert('Sorry. Product is out of stock');\r\n      return;\r\n    }\r\n    dispatch({ type: 'CART_ADD_ITEM', payload: { ...product, quantity } });\r\n    router.push('/cart');\r\n  };\r\n\r\n/* return (\r\n    <Card>\r\n    <NextLink href={`/product/${product.slug}`} passHref>\r\n      <CardActionArea>\r\n        <CardMedia\r\n          component=\"img\"\r\n          image={product.image}\r\n          title={product.name}\r\n        ></CardMedia>\r\n        <CardContent>\r\n          <Typography>{product.name}</Typography>\r\n          <Rating value={product.rating} readOnly></Rating>\r\n        </CardContent>\r\n      </CardActionArea>\r\n    </NextLink>\r\n    <CardActions>\r\n      <Typography>${product.price}</Typography>\r\n      <Button\r\n        size=\"small\"\r\n        color=\"primary\"\r\n        onClick={() => addToCartHandler(product)}\r\n      >\r\n        Add to cart\r\n      </Button>\r\n    </CardActions>\r\n  </Card>\r\n  );*/\r\n  return (\r\n    <div>\r\n      \r\n      <div className=\"blog-agency\">\r\n        <div className=\"blog-contain\">\r\n          <center style={{ backgroundColor: \"#E6E6FA\" }}>\r\n          <NextLink href={`/product/${product.slug}`} passHref>\r\n            <img\r\n              style={{\r\n                height: \"50%\",\r\n                width: \"50%\",\r\n                flex: 1,\r\n                flexDirection: \"row\",\r\n                borderRadius: \"50%\",\r\n              }}\r\n              alt=\"\"\r\n              className=\"img-fluid \"\r\n              src=\r\n                {product.image}\r\n              \r\n            />\r\n            \r\n             </NextLink>\r\n          </center>\r\n          <div className=\"img-container\">\r\n            <div>\r\n              <div\r\n                className=\"blog-info\"\r\n                style={{\r\n                  minHeight: \"137px\",\r\n                  maxHeight: \"137px\",\r\n                }}\r\n              >\r\n                <div className=\"m-b-20\">\r\n                  \r\n                  <div className=\"center-text\"></div>{\" \"}\r\n                  <h5 className=\"blog-head font-600\">{product.productName}</h5>\r\n                  <h6 className=\"m-r-25 font-blog\">${product.price}</h6>\r\n                  \r\n                </div>\r\n\r\n                <Button\r\n        size=\"small\"\r\n        color=\"primary\"\r\n        onClick={() => addToCartHandler(product)}\r\n      >\r\n        Add to cart\r\n      </Button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n     \r\n    </div>\r\n  );\r\n};\r\n\r\n\r\n\r\n   \r\n\r\nexport default Product;"]},"metadata":{},"sourceType":"module"}