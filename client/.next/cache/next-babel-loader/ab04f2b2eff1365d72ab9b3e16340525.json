{"ast":null,"code":"import _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\Karim\\\\Desktop\\\\Project\\\\PrimeTime\\\\client\\\\pages\\\\ShippingAddress.js\";\n\nvar __jsx = React.createElement;\nimport React, { useContext, useEffect, useState } from 'react';\nimport { Container, Row, Col, Form, FormGroup, Label, Input, Button } from \"reactstrap\";\nimport { Store } from '../utils/Store';\nimport CheckoutSteps from '../components/CheckoutSteps';\nimport { useRouter } from 'next/router';\nimport CommonLayout from '../containers/common/common-layout';\nimport Cookies from 'js-cookie';\n\nvar ShippingAddress = function ShippingAddress() {\n  var navigate = useRouter();\n\n  var _useContext = useContext(Store),\n      state = _useContext.state,\n      dispatch = _useContext.dispatch;\n\n  var userInfo = state.userInfo,\n      shippingAddress = state.cart.shippingAddress;\n\n  var _useState = useState(shippingAddress.fullName || ''),\n      fullName = _useState[0],\n      setFullName = _useState[1];\n\n  var _useState2 = useState(shippingAddress.address || ''),\n      address = _useState2[0],\n      setAddress = _useState2[1];\n\n  var _useState3 = useState(shippingAddress.city || ''),\n      city = _useState3[0],\n      setCity = _useState3[1];\n\n  var _useState4 = useState(shippingAddress.postalCode || ''),\n      postalCode = _useState4[0],\n      setPostalCode = _useState4[1];\n\n  useEffect(function () {\n    if (!localStorage.getItem(\"user\")) {\n      navigate.push('/cart');\n    }\n  }, [localStorage.getItem(\"user\"), navigate]);\n\n  var _useState5 = useState(shippingAddress.country || ''),\n      country = _useState5[0],\n      setCountry = _useState5[1];\n\n  var submitHandler = function submitHandler(e) {\n    e.preventDefault();\n    dispatch({\n      type: 'SAVE_SHIPPING_ADDRESS',\n      payload: {\n        fullName: fullName,\n        address: address,\n        city: city,\n        postalCode: postalCode,\n        country: country\n      }\n    });\n    localStorage.setItem('shippingAddress', _JSON$stringify({\n      fullName: fullName,\n      address: address,\n      city: city,\n      postalCode: postalCode,\n      country: country\n    }));\n    Cookies.set('shippingAddress', _JSON$stringify({\n      fullName: fullName,\n      address: address,\n      city: city,\n      postalCode: postalCode,\n      country: country\n    }));\n    navigate.push('/Payment');\n  };\n\n  return __jsx(CommonLayout, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }\n  }, localStorage.getItem(\"user\") ? __jsx(\"div\", {\n    className: \"container small-container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 19\n    }\n  }, __jsx(CheckoutSteps, {\n    activeStep: 1,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 21\n    }\n  }), __jsx(\"h5\", {\n    className: \"my-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 21\n    }\n  }, \"Shipping Address\"), __jsx(Form, {\n    onSubmit: submitHandler,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 21\n    }\n  }, __jsx(FormGroup, {\n    className: \"mb-3\",\n    controlId: \"fullName\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 23\n    }\n  }, __jsx(Label, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 25\n    }\n  }, \"Full Name\"), __jsx(Input, {\n    value: fullName,\n    onChange: function onChange(e) {\n      return setFullName(e.target.value);\n    },\n    required: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 25\n    }\n  })), __jsx(FormGroup, {\n    className: \"mb-3\",\n    controlId: \"address\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 23\n    }\n  }, __jsx(Label, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 25\n    }\n  }, \"Address\"), __jsx(Input, {\n    value: address,\n    onChange: function onChange(e) {\n      return setAddress(e.target.value);\n    },\n    required: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 25\n    }\n  })), __jsx(FormGroup, {\n    className: \"mb-3\",\n    controlId: \"city\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 23\n    }\n  }, __jsx(Label, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 25\n    }\n  }, \"City\"), __jsx(Input, {\n    value: city,\n    onChange: function onChange(e) {\n      return setCity(e.target.value);\n    },\n    required: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 25\n    }\n  })), __jsx(FormGroup, {\n    className: \"mb-3\",\n    controlId: \"postalCode\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 23\n    }\n  }, __jsx(Label, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 25\n    }\n  }, \"Postal Code\"), __jsx(Input, {\n    value: postalCode,\n    onChange: function onChange(e) {\n      return setPostalCode(e.target.value);\n    },\n    required: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 25\n    }\n  })), __jsx(FormGroup, {\n    className: \"mb-3\",\n    controlId: \"country\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 23\n    }\n  }, __jsx(Label, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 25\n    }\n  }, \"Country\"), __jsx(Input, {\n    value: country,\n    onChange: function onChange(e) {\n      return setCountry(e.target.value);\n    },\n    required: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 25\n    }\n  })), __jsx(\"div\", {\n    className: \"mb-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 23\n    }\n  }, __jsx(Button, {\n    variant: \"primary\",\n    type: \"submit\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 25\n    }\n  }, \"Continue\")))) : __jsx(\"div\", {\n    className: \"container small-container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 19\n    }\n  }, \"Go to Login\"));\n};\n\nexport default ShippingAddress;","map":{"version":3,"sources":["C:/Users/Karim/Desktop/Project/PrimeTime/client/pages/ShippingAddress.js"],"names":["React","useContext","useEffect","useState","Container","Row","Col","Form","FormGroup","Label","Input","Button","Store","CheckoutSteps","useRouter","CommonLayout","Cookies","ShippingAddress","navigate","state","dispatch","userInfo","shippingAddress","cart","fullName","setFullName","address","setAddress","city","setCity","postalCode","setPostalCode","localStorage","getItem","push","country","setCountry","submitHandler","e","preventDefault","type","payload","setItem","set","target","value"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\r\n\r\nimport { Container, Row, Col, Form, FormGroup, Label, Input,Button } from \"reactstrap\";\r\n \r\n\r\nimport { Store } from '../utils/Store';\r\nimport CheckoutSteps from '../components/CheckoutSteps';\r\nimport { useRouter } from 'next/router';\r\nimport CommonLayout from '../containers/common/common-layout';\r\nimport Cookies from 'js-cookie';\r\n\r\nconst ShippingAddress = () => { \r\n  const navigate = useRouter();\r\n  const { state, dispatch} = useContext(Store);\r\n  const {\r\n    userInfo,\r\n    cart: { shippingAddress },\r\n  } = state;\r\n  const [fullName, setFullName] = useState(shippingAddress.fullName || '');\r\n  const [address, setAddress] = useState(shippingAddress.address || '');\r\n  const [city, setCity] = useState(shippingAddress.city || '');\r\n  const [postalCode, setPostalCode] = useState(\r\n    shippingAddress.postalCode || ''\r\n  );\r\n  useEffect(() => {\r\n    if (!localStorage.getItem(\"user\")) {\r\n      navigate.push('/cart');\r\n    }\r\n  }, [localStorage.getItem(\"user\"), navigate]);\r\n  const [country, setCountry] = useState(shippingAddress.country || '');\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    dispatch({\r\n      type: 'SAVE_SHIPPING_ADDRESS',\r\n      payload: {\r\n        fullName,\r\n        address,\r\n        city,\r\n        postalCode,\r\n        country,\r\n      },\r\n    });\r\n    localStorage.setItem(\r\n      'shippingAddress',\r\n      JSON.stringify({\r\n        fullName,\r\n        address,\r\n        city,\r\n        postalCode,\r\n        country,\r\n      })\r\n    );\r\n    Cookies.set(\r\n      'shippingAddress',\r\n      JSON.stringify({\r\n        fullName,\r\n        address,\r\n        city,\r\n        postalCode,\r\n        country,\r\n      })\r\n    );\r\n    navigate.push('/Payment');\r\n  };\r\n   \r\n  return (\r\n    <CommonLayout>\r\n      {localStorage.getItem(\"user\")? (\r\n                  \r\n                  <div className=\"container small-container\">\r\n                    <CheckoutSteps activeStep={1}></CheckoutSteps>\r\n                    <h5 className=\"my-3\">Shipping Address</h5>\r\n                    <Form onSubmit={submitHandler}>\r\n                      <FormGroup className=\"mb-3\" controlId=\"fullName\">\r\n                        <Label>Full Name</Label>\r\n                        <Input\r\n                          value={fullName}\r\n                          onChange={(e) => setFullName(e.target.value)}\r\n                          required\r\n                        />\r\n                      </FormGroup>\r\n                      <FormGroup className=\"mb-3\" controlId=\"address\">\r\n                        <Label>Address</Label>\r\n                        <Input\r\n                          value={address}\r\n                          onChange={(e) => setAddress(e.target.value)}\r\n                          required\r\n                        />\r\n                      </FormGroup>\r\n                      <FormGroup className=\"mb-3\" controlId=\"city\">\r\n                        <Label>City</Label>\r\n                        <Input\r\n                          value={city}\r\n                          onChange={(e) => setCity(e.target.value)}\r\n                          required\r\n                        />\r\n                      </FormGroup>\r\n                      <FormGroup className=\"mb-3\" controlId=\"postalCode\">\r\n                        <Label>Postal Code</Label>\r\n                        <Input\r\n                          value={postalCode}\r\n                          onChange={(e) => setPostalCode(e.target.value)}\r\n                          required\r\n                        />\r\n                      </FormGroup>\r\n                      <FormGroup className=\"mb-3\" controlId=\"country\">\r\n                        <Label>Country</Label>\r\n                        <Input\r\n                          value={country}\r\n                          onChange={(e) => setCountry(e.target.value)}\r\n                          required\r\n                        />\r\n                      </FormGroup>\r\n                      <div className=\"mb-3\">\r\n                        <Button variant=\"primary\" type=\"submit\">\r\n                          Continue\r\n                        </Button>\r\n                      </div>\r\n                    </Form>\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"container small-container\">\r\n                    Go to Login \r\n                   </div>\r\n                )}\r\n\r\n      \r\n\r\n  </CommonLayout>    \r\n       \r\n  );\r\n}\r\nexport default ShippingAddress;\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}