{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Karim\\\\Desktop\\\\Project\\\\PrimeTime\\\\client\\\\pages\\\\order\\\\[id].js\";\nvar __jsx = React.createElement;\nimport { ListItem } from '@material-ui/core';\nimport Axios from 'axios';\nimport { useRouter } from 'next/router';\nimport React, { useContext, useEffect, useReducer, useState } from 'react';\nimport { Card, CardBody, CardText, CardTitle, Col, ListGroup, Row } from 'reactstrap';\nimport MessageBox from '../../components/MessageBox';\nimport { Store } from '../../utils/Store';\nexport default function OrderScreen() {\n  var _this = this;\n\n  var _useContext = useContext(Store),\n      state = _useContext.state;\n\n  var userInfo = state.userInfo;\n  var router = useRouter();\n  var orderId = router.query.id;\n\n  var _useState = useState({}),\n      order = _useState[0],\n      setOrder = _useState[1];\n\n  useEffect(function () {\n    var fetchOrder = function fetchOrder() {\n      try {\n        Axios.get(\"http://localhost:5000/orders/\".concat(orderId), {\n          headers: {\n            authorization: \"Bearer \".concat(userInfo.token)\n          }\n        }).then(function (res) {\n          setOrder(res.data);\n          console.log(\"success\");\n          console.log(res.data);\n        });\n      } catch (err) {}\n    };\n\n    if (!userInfo) {\n      return alert(\"Go To Sign In\");\n    }\n\n    if (!order._id || order._id && order._id !== orderId) {\n      fetchOrder();\n    }\n  }, [order, userInfo, orderId]);\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, __jsx(\"h5\", {\n    className: \"my-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, \"Order \", orderId), __jsx(Card, {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, __jsx(Card.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }, __jsx(Card.Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 15\n    }\n  }, \"Items\"), __jsx(ListGroup, {\n    variant: \"flush\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 15\n    }\n  }, order.orderItems.map(function (item) {\n    return __jsx(ListGroup.Item, {\n      key: item._id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 19\n      }\n    }, __jsx(Row, {\n      className: \"align-items-center\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 21\n      }\n    }, __jsx(Col, {\n      md: 6,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 23\n      }\n    }, __jsx(\"img\", {\n      src: item.image,\n      alt: item.product,\n      className: \"img-fluid rounded img-thumbnail\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 25\n      }\n    }), ' ', __jsx(Link, {\n      to: \"/product/\".concat(item.slug),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 25\n      }\n    }, item.name)), __jsx(Col, {\n      md: 3,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 23\n      }\n    }, __jsx(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 25\n      }\n    }, item.quantity)), __jsx(Col, {\n      md: 3,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 23\n      }\n    }, \"$\", item.price)));\n  })))));\n}","map":{"version":3,"sources":["C:/Users/Karim/Desktop/Project/PrimeTime/client/pages/order/[id].js"],"names":["ListItem","Axios","useRouter","React","useContext","useEffect","useReducer","useState","Card","CardBody","CardText","CardTitle","Col","ListGroup","Row","MessageBox","Store","OrderScreen","state","userInfo","router","orderId","query","id","order","setOrder","fetchOrder","get","headers","authorization","token","then","res","data","console","log","err","alert","_id","orderItems","map","item","image","product","slug","name","quantity","price"],"mappings":"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","sourcesContent":["import { ListItem } from '@material-ui/core';\r\nimport Axios from 'axios';\r\nimport { useRouter } from 'next/router';\r\nimport React, { useContext, useEffect, useReducer, useState } from 'react';\r\nimport { Card, CardBody, CardText, CardTitle, Col, ListGroup, Row } from 'reactstrap';\r\nimport MessageBox from '../../components/MessageBox';\r\n\r\nimport { Store } from '../../utils/Store';\r\n\r\n\r\n\r\nexport default function OrderScreen() {\r\n  const { state } = useContext(Store);\r\n  const { userInfo } = state;\r\n\r\n  const router = useRouter();\r\n    const { id: orderId } = router.query\r\n \r\n\r\n  const [ order,setOrder] = useState({});\r\n\r\n  useEffect(() => {\r\n    const fetchOrder =  () => {\r\n      try {\r\n       \r\n          Axios.get(`http://localhost:5000/orders/${orderId}`, {\r\n          headers: { authorization: `Bearer ${userInfo.token}` },\r\n        }).then( res => {\r\n          setOrder(res.data);\r\n          console.log(\"success\");\r\n          console.log(res.data);\r\n          \r\n         \r\n         });\r\n        \r\n      } catch (err) {\r\n        \r\n      }\r\n    };\r\n\r\n    if (!userInfo) {\r\n      return alert(\"Go To Sign In\")\r\n    }\r\n    if (!order._id || (order._id && order._id !== orderId)) {\r\n      fetchOrder();\r\n    }\r\n  }, [order, userInfo, orderId]);\r\n  return (\r\n    <div>\r\n      <h5 className=\"my-3\">Order {orderId}</h5>\r\n      <Card className=\"mb-3\">\r\n            <Card.Body>\r\n              <Card.Title>Items</Card.Title>\r\n              <ListGroup variant=\"flush\">\r\n                {order.orderItems.map((item) => (\r\n                  <ListGroup.Item key={item._id}>\r\n                    <Row className=\"align-items-center\">\r\n                      <Col md={6}>\r\n                        <img\r\n                          src={item.image}\r\n                          alt={item.product}\r\n                          className=\"img-fluid rounded img-thumbnail\"\r\n                        ></img>{' '}\r\n                        <Link to={`/product/${item.slug}`}>{item.name}</Link>\r\n                      </Col>\r\n                      <Col md={3}>\r\n                        <span>{item.quantity}</span>\r\n                      </Col>\r\n                      <Col md={3}>${item.price}</Col>\r\n                    </Row>\r\n                  </ListGroup.Item>\r\n                ))}\r\n              </ListGroup>\r\n            </Card.Body>\r\n          </Card>\r\n    \r\n  </div>\r\n    \r\n  \r\n     \r\n  );\r\n}"]},"metadata":{},"sourceType":"module"}